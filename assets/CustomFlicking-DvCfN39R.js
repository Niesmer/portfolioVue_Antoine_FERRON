import{C as $,g as z,r as B,w as T,V as M,N as D,F as L,E as m,s as q,a as I,b as C,c as N}from"./_id_-BQlmbz9j.js";import{d as V,G as U,h as g,O as K,T as H,F as A,k as G,B as _,x as Y,C as Z,m as F,v as J,n as Q,q as W}from"./app-Ds4G9c4W.js";var X=function(){function r(){this.keys=[],this.values=[]}var n=r.prototype;return n.get=function(e){return this.values[this.keys.indexOf(e)]},n.set=function(e,t){var a=this.keys,i=this.values,o=a.indexOf(e),l=o===-1?a.length:o;a[l]=e,i[l]=t},r}(),ee=function(){function r(){this.object={}}var n=r.prototype;return n.get=function(e){return this.object[e]},n.set=function(e,t){this.object[e]=t},r}(),te=typeof Map=="function",ne=function(){function r(){}var n=r.prototype;return n.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},n.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},n.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},r}();function re(r,n){var e=[],t=[];return r.forEach(function(a){var i=a[0],o=a[1],l=new ne;e[i]=l,t[o]=l}),e.forEach(function(a,i){a.connect(e[i-1])}),r.filter(function(a,i){return!n[i]}).map(function(a,i){var o=a[0],l=a[1];if(o===l)return[0,0];var u=e[o],s=t[l-1],c=u.getIndex();u.disconnect(),s?u.connect(s,s.next):u.connect(void 0,e[0]);var d=u.getIndex();return[c,d]})}var ie=function(){function r(e,t,a,i,o,l,u,s){this.prevList=e,this.list=t,this.added=a,this.removed=i,this.changed=o,this.maintained=l,this.changedBeforeAdded=u,this.fixed=s}var n=r.prototype;return Object.defineProperty(n,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(n,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),n.caculateOrdered=function(){var e=re(this.changedBeforeAdded,this.fixed),t=this.changed,a=[];this.cacheOrdered=e.filter(function(i,o){var l=i[0],u=i[1],s=t[o],c=s[0],d=s[1];if(l!==u)return a.push([c,d]),!0}),this.cachePureChanged=a},r}();function ae(r,n,e){var t=te?Map:e?ee:X,a=e||function(h){return h},i=[],o=[],l=[],u=r.map(a),s=n.map(a),c=new t,d=new t,b=[],P=[],O={},x=[],E=0,p=0;return u.forEach(function(h,f){c.set(h,f)}),s.forEach(function(h,f){d.set(h,f)}),u.forEach(function(h,f){var v=d.get(h);typeof v>"u"?(++p,o.push(f)):O[v]=p}),s.forEach(function(h,f){var v=c.get(h);typeof v>"u"?(i.push(f),++E):(l.push([v,f]),p=O[f]||0,b.push([v-p,f-E]),P.push(f===v),v!==f&&x.push([v,f]))}),o.reverse(),new ie(r,n,i,o,x,l,b,P)}var R=function(){function r(e,t){e===void 0&&(e=[]),this.findKeyCallback=t,this.list=[].slice.call(e)}var n=r.prototype;return n.update=function(e){var t=[].slice.call(e),a=ae(this.list,t,this.findKeyCallback);return this.list=t,a},r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(r,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},w(r,n)};function se(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");w(r,n);function e(){this.constructor=r}r.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var y=function(){return y=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},y.apply(this,arguments)};function oe(r,n){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&n.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(e[t[a]]=r[t[a]]);return e}function j(r,n,e,t){function a(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function l(c){try{s(t.next(c))}catch(d){o(d)}}function u(c){try{s(t.throw(c))}catch(d){o(d)}}function s(c){c.done?i(c.value):a(c.value).then(l,u)}s((t=t.apply(r,[])).next())})}function S(r,n){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(s){return function(c){return u([s,c])}}function u(s){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,a&&(i=s[0]&2?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,a=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){e.label=s[1];break}if(s[0]===6&&e.label<i[1]){e.label=i[1],i=s;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(s);break}i[2]&&e.ops.pop(),e.trys.pop();continue}s=n.call(r,e)}catch(c){s=[6,c],a=0}finally{t=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function k(r,n,e){for(var t=0,a=n.length,i;t<a;t++)(i||!(t in n))&&(i||(i=Array.prototype.slice.call(n,0,t)),i[t]=n[t]);return r.concat(i||Array.prototype.slice.call(n))}var le={viewportTag:{type:String,default:"div",required:!1},cameraTag:{type:String,default:"div",required:!1},cameraClass:{type:String,default:"",required:!1},hideBeforeInit:{type:Boolean,default:!1,required:!1},firstPanelSize:{type:String,required:!1},options:{type:Object,default:function(){return{}},required:!1},plugins:{type:Array,default:function(){return[]},required:!1},status:{type:Object,required:!1}},ue=function(r){se(n,r);function n(t){var a=r.call(this,t)||this;return a._vueFlicking=t.vueFlicking,a}var e=n.prototype;return e.render=function(){return j(this,void 0,void 0,function(){var t,a,i,o=this;return S(this,function(l){return t=C(this._flicking),a=this._vueFlicking,i=this._strategy,i.updateRenderingPanels(t),i.renderPanels(t),[2,new Promise(function(u){a.renderEmitter.once("render",function(){o._afterRender(),u()}),a.$forceUpdate()})]})})},e.forceRenderAllPanels=function(){return j(this,void 0,void 0,function(){var t;return S(this,function(a){switch(a.label){case 0:return t=this._vueFlicking,[4,r.prototype.forceRenderAllPanels.call(this)];case 1:return a.sent(),[2,new Promise(function(i){t.renderEmitter.once("render",i),t.$forceUpdate()})]}})})},e._collectPanels=function(){var t=C(this._flicking),a=this._vueFlicking,i=a.$refs,o=Object.keys(i).map(function(l){return i[l]});this._panels=this._strategy.collectPanels(t,o)},e._createPanel=function(t,a){return this._strategy.createPanel(t,a)},n}(N),ce=V({data:function(){return{hide:!1}},render:function(){if(!(this.hide||!this.$slots.default))return this.$slots.default()}}),fe=function(){function r(e){this._el=e}var n=r.prototype;return Object.defineProperty(n,"rendered",{get:function(){return!this._el.hide},enumerable:!1,configurable:!0}),Object.defineProperty(n,"element",{get:function(){var e=this._el.$el.nextSibling;return e&&e.nodeType===Node.ELEMENT_NODE&&(this._cachedElement=e),this._cachedElement},enumerable:!1,configurable:!0}),n.show=function(){this._el.hide=!1},n.hide=function(){this._el.hide=!0},r}(),de=V({props:le,components:{Panel:ce},data:function(){return{}},created:function(){var r=this;this.vanillaFlicking=null,this.renderEmitter=new $,this.diffResult=null,this.getPanels=function(){var n=G(),e=n==null?void 0:n.ctx,t=r.vanillaFlicking,a=r.getSlots(),i=e==null?void 0:e.diffResult,o=i?z(t,i):a,l=U("Panel"),u=o.map(function(s,c){return g(l,{key:s.key,ref:c.toString()},function(){return s})});return u},this.getVirtualPanels=function(){var n=r.options,e=n.virtual.panelClass,t=e===void 0?"flicking-panel":e,a=n.panelsPerView,i=r.vanillaFlicking,o=i&&i.initialized,l=o?i.renderer.strategy.getRenderingIndexesByOrder(i):B(a+1),u=o&&i.panels[0],s=u?i.horizontal?{width:u.size}:{height:u.size}:{};return l.map(function(c){return g("div",{key:c,ref:c.toString(),class:t,style:s,"data-element-index":c})})},T(this,"vanillaFlicking")},mounted:function(){var r=this,n,e=this.options,t=this.$el,a={vueFlicking:this,align:e.align,strategy:e.virtual&&((n=e.panelsPerView)!==null&&n!==void 0?n:-1)>0?new M:new D({providerCtor:fe})},i=new L(t,y(y({},e),{externalRenderer:new ue(a)}));this.vanillaFlicking=i,i.once(m.READY,function(){r.$forceUpdate()});var o=this.getSlots();this.slotDiffer=new R(o,function(l){return l.key}),this.pluginsDiffer=new R,this.bindEvents(),this.checkPlugins(),this.status&&i.setStatus(this.status)},beforeUnmount:function(){var r;(r=this.vanillaFlicking)===null||r===void 0||r.destroy()},beforeMount:function(){this.fillKeys()},beforeUpdate:function(){this.fillKeys(),this.diffResult=this.slotDiffer.update(this.getSlots())},updated:function(){var r=this.vanillaFlicking,n=this.diffResult;if(this.checkPlugins(),this.renderEmitter.trigger("render"),!(!n||!(r!=null&&r.initialized))){var e=this.getChildren();q(r,n,e),(n.added.length>0||n.removed.length>0)&&this.$forceUpdate(),this.diffResult=void 0}},render:function(){var r,n,e=this.vanillaFlicking,t=this.options,a=e&&e.initialized,i=e?e.horizontal:(n=this.options.horizontal)!==null&&n!==void 0?n:!0,o={class:{"flicking-viewport":!0,vertical:!i,"flicking-hidden":this.hideBeforeInit&&!a}},l={class:(r={"flicking-camera":!0},r[this.cameraClass]=!!this.cameraClass,r),style:!a&&this.firstPanelSize?{transform:I(this.options.align,this.options.horizontal,this.firstPanelSize)}:{}},u=t.virtual&&t.panelsPerView&&t.panelsPerView>0?this.getVirtualPanels:this.getPanels,s=this.$slots.viewport?this.$slots.viewport():[];return g(this.viewportTag,o,k([g(this.cameraTag,l,{default:u})],s))},methods:{getSlots:function(){var r=this,n=this.$slots.default?this.$slots.default():[];return n.reduce(function(e,t){return k(k([],e,!0),r.getElementVNodes(t))},[]).filter(function(e){return e.type!==K&&e.type!==H})},getElementVNodes:function(r,n){var e=this;return n===void 0&&(n=[]),r.type===A&&Array.isArray(r.children)?r.children.filter(function(t){return t&&typeof t=="object"}).forEach(function(t){return e.getElementVNodes(t,n)}):n.push(r),n},bindEvents:function(){var r=this,n=this.vanillaFlicking,e=Object.keys(m).map(function(t){return m[t]});e.forEach(function(t){n.on(t,function(a){a.currentTarget=r,r.$emit(t.replace(/([A-Z])/g,"-$1").toLowerCase(),a)})})},checkPlugins:function(){var r,n,e=this.pluginsDiffer.update(this.plugins),t=e.list,a=e.added,i=e.removed,o=e.prevList;(r=this.vanillaFlicking).addPlugins.apply(r,a.map(function(l){return t[l]})),(n=this.vanillaFlicking).removePlugins.apply(n,i.map(function(l){return o[l]}))},fillKeys:function(){var r=this.getSlots();r.forEach(function(n,e){n.key==null&&(n.key="$_".concat(e))})},getChildren:function(){var r=this.$refs;return Object.keys(r).map(function(n){return r[n]})}},watch:{options:{handler:function(r){var n=this.vanillaFlicking;if(n){r.virtual;var e=oe(r,["virtual"]);for(var t in e)t in n&&n[t]!==e[t]&&(n[t]=e[t])}},deep:!0,immediate:!0}}});const he=["src","alt"],ge={__name:"CustomFlicking",props:{images:{type:Array,required:!0},perspective:{type:Array,required:!0}},setup(r){return(n,e)=>(_(),Y(W(de),{class:"z-0 overflow-visible my-2",options:{align:"center",circular:!0},plugins:r.perspective},{default:Z(()=>[(_(!0),F(A,null,J(r.images,t=>(_(),F("div",{class:"flicking-panel max-h-fit h-52 w-1/3 justify-center flex select-none lg:h-fit",key:t.src},[Q("img",{class:"select-none object-contain text-center self-center",draggable:"false",src:t.src,alt:t.alt},null,8,he)]))),128))]),_:1},8,["plugins"]))}};export{ge as default};
